<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<title>Seurausten talo – Päätöksen elinkaarimalli</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --black:#000;
  --white:#fff;
  --gray:#666;
}

body {
  font-family: system-ui, -apple-system, sans-serif;
  margin:0;
  background:var(--white);
  color:var(--black);
}

header {
  border-bottom:2px solid var(--black);
  padding:2.5rem 1rem;
  text-align:center;
}

header h1 {
  margin:0;
  font-size:2.2rem;
}

header p {
  margin:0.5rem 0 0;
  color:var(--gray);
}

main {
  max-width:1000px;
  margin:3rem auto;
  padding:2.5rem;
  border:2px solid var(--black);
}

.lifecycle {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:1rem;
  margin-bottom:3rem;
}

.lifecycle button {
  padding:1.2rem;
  font-size:1rem;
  border:2px solid var(--black);
  background:var(--white);
  cursor:pointer;
  transition:all 0.2s;
}

.lifecycle button:hover {
  background:var(--black);
  color:var(--white);
}

.diagram {
  text-align:center;
  font-family:monospace;
  margin-bottom:3rem;
}

.diagram pre {
  display:inline-block;
  text-align:left;
  font-size:0.95rem;
}

#vaiheTulos {
  border-top:2px solid var(--black);
  padding-top:2rem;
  min-height:120px;
}

#vaiheTulos h3 {
  margin-top:0;
}

.normi {
  margin-top:1.5rem;
  padding:1rem;
  border:2px solid var(--black);
  font-weight:700;
}

footer {
  max-width:1000px;
  margin:3rem auto 2rem;
  padding:1.5rem;
  border-top:2px solid var(--black);
  text-align:center;
  font-size:0.9rem;
  color:var(--gray);
}

code {
  background:#f4f4f4;
  padding:0.2rem 0.4rem;
}
</style>
</head>

<body>

<header>
  <h1>Seurausten talo</h1>
  <p>Päätöksen elinkaarimalli</p>
</header>

<main>

<div class="diagram">
<pre>
        MUUTOS NORMIKSI ▲
                │
        (5) KERTAUTUMINEN
                │
        (1) PÄÄTÖS ▲
                │
                ▼
(4) SOPEUTUMINEN ─── (2) VAIKUTUS
                │
                ▼
           (3) SEURAUKSET
</pre>
</div>

<div class="lifecycle">
  <button onclick="vaihe(1)">① PÄÄTÖS</button>
  <button onclick="vaihe(2)">② VAIKUTUS</button>
  <button onclick="vaihe(3)">③ SEURAUKSET</button>
  <button onclick="vaihe(4)">④ SOPEUTUMINEN</button>
  <button onclick="vaihe(5)">⑤ KERTAUTUMINEN</button>
</div>

<div id="vaiheTulos">
  <p><em>Valitse vaihe nähdäksesi päätöksen elinkaarivaikutus.</em></p>
</div>

</main>

<footer>
  <p>
    © 2026 Seurausten talo<br>
    Päätöksen elinkaarimalli · API-pääte: <code>/api/analyysi</code><br>
    Vercel Environment Variable: <code>ANALYSIS_API_KEY</code>
  </p>
</footer>

<script>
function vaihe(nro) {

  const data = {
    1: {
      otsikko: "① PÄÄTÖS",
      teksti:
        "Päätös tehdään rajatulla tiedolla ja oletuksilla. Tässä vaiheessa syntyy polku, jota pidetään perusteltuna, vaikka vaihtoehtoja ei enää myöhemmin tarkastella."
    },
    2: {
      otsikko: "② VAIKUTUS",
      teksti:
        "Ensimmäiset suorat vaikutukset ilmenevät. Mittarit näyttävät usein positiivista tai neutraalia, koska viivästyneet seuraukset eivät ole vielä näkyvissä."
    },
    3: {
      otsikko: "③ SEURAUKSET",
      teksti:
        "Epäsuorat ja pitkän aikavälin seuraukset realisoituvat. Kustannukset, kuormitus tai laadun heikkeneminen tulevat näkyviksi."
    },
    4: {
      otsikko: "④ SOPEUTUMINEN",
      teksti:
        "Ihmiset ja organisaatio mukautuvat päätökseen. Alkuperäinen ongelma hämärtyy, ja uusi tila alkaa tuntua normaalilta."
    },
    5: {
      otsikko: "⑤ KERTAUTUMINEN",
      teksti:
        "Päätöksestä tulee malli. Samaa ratkaisua toistetaan automaattisesti ilman uutta arviointia."
    }
  };

  let normiHTML = "";
  if (nro === 5) {
    normiHTML = `
      <div class="normi">
        ⚠ MUUTOS ON MUUTTUNUT NORMIKSI<br>
        Päätöstä ei enää kyseenalaisteta, vaikka seuraukset ovat tiedossa.
      </div>
    `;
  }

  document.getElementById("vaiheTulos").innerHTML = `
    <h3>${data[nro].otsikko}</h3>
    <p>${data[nro].teksti}</p>
    ${normiHTML}
  `;
}
</script>

</body>
</html>
